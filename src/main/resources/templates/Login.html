
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<body layout:fragment="body">

  <style>
    :root{ --a:#4776E6; --b:#8E54E9; }
    .auth-wrap{
      min-height: calc(100vh - 140px);
      display:flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg, rgba(71,118,230,.22), rgba(142,84,233,.22));
    }
    .auth-card{
      width:100%; max-width: 880px; border-radius:18px; overflow:hidden;
      box-shadow: 0 30px 80px rgba(0,0,0,.25);
      display:grid; grid-template-columns: 5fr 4fr;
      background: #0b1220;
    }
    @media (max-width: 900px){ .auth-card{ grid-template-columns: 1fr; } }

    .panel-visual{
      padding:42px; position:relative; color:#e5e7eb;
      background: linear-gradient(145deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      backdrop-filter: blur(10px);
    }
    .panel-visual h2{ font-weight:800; letter-spacing:.3px; }
    .chips{ margin-top:18px; display:flex; flex-wrap:wrap; gap:8px;}
    .chip{
      border:1px solid rgba(255,255,255,.18); color:#fff; padding:6px 10px; border-radius:999px;
      font-size:12px; background: rgba(255,255,255,.08);
    }

    .panel-form{
      padding:34px; background: #fff;
    }
    .brand{ font-weight:800; color:#111827; }
    .muted{ color:#6b7280; }
    .input-icon{ position:relative; }
    .input-icon i{ position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#9ca3af; }
    .input-icon input{
      padding-left:38px;
    }
    .btn-primary{
      background: linear-gradient(90deg, var(--a), var(--b)); border:none;
    }
    .ring{ box-shadow: 0 0 0 4px rgba(71,118,230,.15); }
  </style>

  <div class="auth-wrap">
    <div class="auth-card">

      <!-- Panel visual (degradado/glass) -->
      <section class="panel-visual">
        <h2>Bienvenido a <span class="text-info">CRUD</span></h2>
        <p class="muted">Ingresa para gestionar tu cuenta y usuarios.</p>
        <div class="chips">
          <span class="chip">JWT</span>
          <span class="chip">Spring Security</span>
          <span class="chip">Roles</span>
          <span class="chip">Admin</span>
        </div>
      </section>

      <!-- Panel formulario -->
      <section class="panel-form">
        <div class="mb-3">
          <h4 class="brand mb-0">Iniciar sesión</h4>
          <small class="muted">Usa tu usuario o correo</small>
        </div>

        <!-- Avisos -->
        <div th:if="${param.activated}" class="alert alert-success py-2">
          ✅ Tu cuenta fue activada, ahora puedes iniciar sesión.
        </div>
        <div th:if="${error}" class="alert alert-danger py-2" th:text="${error}">Error</div>
        <div th:if="${info}" class="alert alert-info py-2" th:text="${info}"></div>

        <form method="post" th:action="@{/usuario/Login}" class="needs-validation" novalidate>
          <div class="mb-3">
            <label class="form-label">Usuario o Email</label>
            <div class="input-icon">
              <i class="bi bi-person"></i>
              <input name="username" type="text" class="form-control ring" placeholder="usuario o correo" required>
              <div class="invalid-feedback">Ingresa tu usuario o email.</div>
            </div>
          </div>
          <div class="mb-2">
            <label class="form-label">Contraseña</label>
            <div class="input-icon">
              <i class="bi bi-lock"></i>
              <input name="password" type="password" class="form-control ring" placeholder="••••••••" required>
              <div class="invalid-feedback">Ingresa tu contraseña.</div>
            </div>
          </div>

          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="rememberMe">
              <label class="form-check-label" for="rememberMe">Recordarme</label>
            </div>
            <a class="text-decoration-none" th:href="@{/usuario/forgot}">¿Olvidaste tu contraseña?</a>
          </div>

          <button class="btn btn-primary w-100">Iniciar sesión</button>
        </form>
      </section>
    </div>
  </div>

</body>
</html>
